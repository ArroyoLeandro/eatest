(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{5438:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[userId]/arrepentimiento",function(){return n(4959)}])},7959:function(e,t,n){"use strict";var a=n(5893),r=n(7294),o=n(3935);function l(e,t){var n=e.children,l=e.initialValue,i=void 0!==l&&l,s=(0,r.useState)(i),c=s[0],u=s[1],p=(0,r.useCallback)((function(){return u(!1)}),[]);(0,r.useImperativeHandle)(t,(function(){return{openModal:function(){return u(!0)},closeModal:p}}),[p]);var d=(0,r.useCallback)((function(e){27===e.keyCode&&p()}),[p]);(0,r.useEffect)((function(){return c&&(document.addEventListener("keydown",d,!1),document.body.classList.add("overflow-hidden","pr-4")),function(){document.removeEventListener("keydown",d,!1),document.body.classList.remove("overflow-hidden","pr-4")}}),[d,c]);var f=(0,r.useRef)(),m=(0,r.useRef)(),x=(0,r.useCallback)((function(e){9===e.keyCode&&e.target===f.current&&m.current.focus()}),[]);return(0,r.useEffect)((function(){return c&&document.addEventListener("keyup",x,!1),function(){document.removeEventListener("keyup",x,!1)}}),[x,c]),c?o.createPortal((0,a.jsx)(r.Fragment,{children:(0,a.jsx)("div",{role:"dialog","aria-modal":"true",className:"fixed flex items-center justify-center w-full h-full p-6 bg-black top-0 left-0 bg-opacity-20 z-50",onClick:p,children:(0,a.jsxs)("div",{"aria-label":"Ventana Modal",className:"relative flex max-h-full",onClick:function(e){return e.stopPropagation()},children:[(0,a.jsx)("input",{ref:f,autoFocus:!0,readOnly:!0,"aria-label":"Ventana modal - use Escape para salir",className:"bg-transparent absolute w-1 h-1 transparent border-none outline-none focus:outline-none"}),n,(0,a.jsx)("button",{ref:m,"aria-label":"Cerrar ventana",onClick:p,className:"absolute top-0 right-0 m-2 z-20 flex items-center justify-center w-7 h-7 bg-white rounded-full ",children:(0,a.jsx)("span",{className:"icon-mas text-2xl text-turquesa rotate-45 leading-3"})})]})})}),document.body):null}t.Z=(0,r.forwardRef)(l)},4959:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var a=n(5893),r=n(7294),o=n(1955),l=n(1163),i=n(573),s=n(4051),c=n.n(s),u=n(9669),p=n.n(u),d=n(1567),f=n(2298),m=n(7349),x=n(286),h=n(3345),g=(n(4055),n(1059),n(2163)),w=n(7959);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function v(e,t,n,a,r,o,l){try{var i=e[o](l),s=i.value}catch(c){return void n(c)}i.done?t(s):Promise.resolve(s).then(a,r)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){y(e,t,n[t])}))}return e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(s){i=!0,r=s}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=function(){var e=function(){var e=Object.entries(s),t=!0,n="",a=!0,r=!1;return e.map((function(e){if(""==e[1])return a?(n+=" "+e[0]+" ",a=!1):(n+=" - "+e[0],r=!0),void(t=!1)})),0==t&&O(r?"Los campos: ".concat(n.toUpperCase()," son obligatorios"):"El campo ".concat(n.toUpperCase()," es obligatorio")),t},t=N((0,d.$)("global"),2),n=t[0],l=(t[1],(0,f.default)(new Date,"yyyy-MM-dd"),{nombre:"",dni:"",fecha:"",email:"",telefono:"",voucher:"",motivo:"",codigo:o.Z.get("location"),type:2}),i=(0,r.useState)(l),s=i[0],u=i[1],b=(0,r.useState)(!1),y=b[0],C=b[1],k=(0,r.useRef)(null),E=(0,r.useState)(""),M=E[0],O=E[1],S=n("formContacto.sendSuccess"),F=(0,r.useState)(null),P=F[0],_=F[1],A=(0,r.useState)(!1),I=A[0],L=A[1],Z=(0,r.useState)(""),D=Z[0],R=Z[1],z=function(){var t,a=(t=c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C(!0),a=s.email,!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a)&&(O("El email es invalido"),1)||!e()){t.next=15;break}return t.prev=2,t.next=5,p().post("https://apieurop-assistance.byflexy.com/api/v2/travel/b2c/mail",s);case 5:t.sent.data[0],O(""),u(l),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),O(n("formContacto.sendError")),console.log("err=>",t.t0.response.data);case 15:k.current.openModal(),C(!1);case 17:case"end":return t.stop()}var a}),t,null,[[2,11]])})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function l(e){v(o,a,r,l,i,"next",e)}function i(e){v(o,a,r,l,i,"throw",e)}l(void 0)}))});return function(){return a.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{role:"form","aria-label":"Arrepentimiento",className:"w-full max-w-screen-lg mx-auto flex flex-col gap-6 py-10 lg:py-16 px-6 items-center",children:[(0,a.jsxs)("div",{className:"w-full flex flex-col lg:grid lg:grid-cols-3 gap-4 py-6 px-6 rounded-lg shadow-3xl",children:[(0,a.jsxs)("label",{className:"flex-1 relative group",htmlFor:"name",children:[(0,a.jsx)("input",{type:"text",name:"name",value:s.nombre,onChange:function(e){u(j({},s,{nombre:e.target.value}))},className:"w-full py-3 px-4 border border-principal rounded focus:outline-none focus:border-gris-medio"}),(0,a.jsx)("span",{className:"absolute pointer-events-none left-4 px-1 text-gris-medio transition-all ease-out origin-left whitespace-nowrap group-focus-within:-translate-y-2 group-focus-within:scale-75 group-focus-within:bg-white group-focus-within:py-0 ".concat(""!=(null===s||void 0===s?void 0:s.nombre)?"scale-75 -translate-y-2 bg-white top-0.5":"py-3 scale-100 top-0"," "),children:"Nombre y apellido"})]}),(0,a.jsxs)("label",{className:"flex-1 relative group",htmlFor:"dni",children:[(0,a.jsx)("input",{type:"number",name:"dni",value:s.dni,onChange:function(e){u(j({},s,{dni:e.target.value}))},className:"w-full py-3 px-4 border border-principal rounded focus:outline-none focus:border-gris-medio"}),(0,a.jsx)("span",{className:"absolute pointer-events-none left-4 px-1 text-gris-medio transition-all ease-out origin-left whitespace-nowrap group-focus-within:-translate-y-2 group-focus-within:scale-75 group-focus-within:bg-white group-focus-within:py-0 top-0 ".concat(""!=s.dni?"scale-75 -translate-y-2 bg-white":"py-3 scale-100"," "),children:"N\xb0 de Documento"})]}),(0,a.jsxs)("label",{className:"flex-1 relative group",htmlFor:"fecha",children:[(0,a.jsxs)("button",{id:"fecha",onClick:function(){var e;_(P!=(e="fecha")?e:null)},className:"w-full flex gap-3 items-center justify-between py-0 px-4 border border-principal rounded focus:outline-none focus:border-gris-medio ".concat(I?"":"text-gris-medio"),children:[(0,a.jsx)("span",{"aria-live":"polite",className:"whitespace-nowrap",children:I?D:"Fecha de nacimiento"}),(0,a.jsx)("span",{className:"icon-calendario text-lg text-gris-medio h-12 flex items-center","aria-hidden":"true"})]}),I?(0,a.jsx)("span",{className:"absolute pointer-events-none left-4 px-1 text-gris-medio transition-all ease-out origin-left whitespace-nowrap group-focus-within:-translate-y-2 group-focus-within:scale-75 group-focus-within:bg-white group-focus-within:py-0 top-0 scale-75 -translate-y-2 bg-white ",children:"Fecha de nacimiento"}):null,"fecha"==P&&(0,a.jsx)("div",{className:"sm:absolute right-0 lg:right-auto flex flex-col gap-5 rounded-lg overflow-hidden border w-full text-principal bg-white z-20 sm:-mt-3 sm:animate-botIn sm:translate-y-4 ",children:(0,a.jsx)(x.f,{direction:"horizontal",maxDate:(0,m.default)(new Date,0),monthDisplayFormat:"MMMM yyyy",locale:h.Z,showMonthAndYearPickers:!0,onChange:function(e){!function(e){var t=(0,f.default)(e,"yyyy-MM-dd");u(j({},s,{fecha:t})),_(null),t=t.split("-").reverse().join("-"),R(t),L(!0)}(e)}})})]}),(0,a.jsxs)("label",{className:"flex-1 relative group",htmlFor:"voucher",children:[(0,a.jsx)("input",{type:"number",name:"voucher",value:s.voucher,onChange:function(e){u(j({},s,{voucher:e.target.value}))},className:"w-full py-3 px-4 border border-principal rounded focus:outline-none focus:border-gris-medio"}),(0,a.jsx)("span",{className:"absolute pointer-events-none left-4 px-1 text-gris-medio transition-all ease-out origin-left whitespace-nowrap group-focus-within:-translate-y-2 group-focus-within:scale-75 group-focus-within:bg-white group-focus-within:py-0 top-0 ".concat(""!=s.voucher?"scale-75 -translate-y-2 bg-white":"py-3 scale-100"," "),children:"N\xb0 de Voucher"})]}),(0,a.jsxs)("label",{className:"flex-1 relative group",htmlFor:"email",children:[(0,a.jsx)("input",{type:"email",name:"email",value:s.email,onChange:function(e){u(j({},s,{email:e.target.value}))},className:"w-full py-3 px-4 border border-principal rounded focus:outline-none focus:border-gris-medio"}),(0,a.jsx)("span",{className:"absolute pointer-events-none left-4 px-1 text-gris-medio transition-all ease-out origin-left whitespace-nowrap group-focus-within:-translate-y-2 group-focus-within:scale-75 group-focus-within:bg-white group-focus-within:py-0 top-0 ".concat(""!=s.email?"scale-75 -translate-y-2 bg-white":"py-3 scale-100"," "),children:"E-mail"})]}),(0,a.jsxs)("label",{className:"flex-1 relative group",htmlFor:"tel",children:[(0,a.jsx)("input",{type:"number",name:"phone",value:s.telefono,onChange:function(e){u(j({},s,{telefono:e.target.value}))},className:"w-full py-3 px-4 border border-principal rounded focus:outline-none focus:border-gris-medio"}),(0,a.jsx)("span",{className:"absolute pointer-events-none left-4 px-1 text-gris-medio transition-all ease-out origin-left whitespace-nowrap group-focus-within:-translate-y-2 group-focus-within:scale-75 group-focus-within:bg-white group-focus-within:py-0 top-0 ".concat(""!=s.telefono?"scale-75 -translate-y-2 bg-white":"py-3 scale-100"," "),children:"Tel\xe9fono con caracter\xedstica del pa\xeds"})]}),(0,a.jsxs)("label",{className:"flex-none w-full col-span-3 relative group",htmlFor:"motivo",children:[(0,a.jsx)("textarea",{value:s.motivo,name:"subject",onChange:function(e){u(j({},s,{motivo:e.target.value}))},className:"w-full py-3 px-4 border border-principal rounded focus:outline-none focus:border-gris-medio"}),(0,a.jsx)("span",{className:"absolute pointer-events-none left-4 px-1 text-gris-medio transition-all ease-out origin-left whitespace-nowrap group-focus-within:-translate-y-2 group-focus-within:scale-75 group-focus-within:bg-white group-focus-within:py-0 top-0 ".concat(""!=s.motivo?"scale-75 -translate-y-2 bg-white":"py-3 scale-100"," "),children:"Motivo de arrepentimiento"})]})]}),(0,a.jsx)("button",{className:"py-5 px-6 btn btn-amarillo w-full lg:w-56 text-xl font-bold lg:font-normal shadow-2xl shadow-amarillo hover:shadow-principal focus:shadow-principal",onClick:function(){z()},children:"Enviar"})]}),y&&(0,a.jsx)(g.Z,{}),(0,a.jsx)(w.Z,{ref:k,children:(0,a.jsx)("article",{className:"w-full min-h-[200px] max-w-screen-md max-h-full flex flex-col text-principal bg-white rounded-lg shadow-xl overflow-hidden",children:""!=M?(0,a.jsxs)("header",{className:"relative w-full h-full flex p-6 md:p-10",children:[(0,a.jsxs)("span",{className:"icon-ico-alert text-3xl lg:text-6xl","aria-hidden":"true",children:[(0,a.jsx)("span",{className:"path1 text-amarillo"}),(0,a.jsx)("span",{className:"path2 text-principal"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 md:gap-4 p-4",children:[(0,a.jsx)("h2",{className:"text-2xl md:text-4xl font-bold leading-none md:leading-10",children:"Ocurri\xf3 un error!"}),(0,a.jsx)("h3",{className:"flex-1 flex items-center text-xl leading-none md:leading-10 font-bold",children:M})]})]}):(0,a.jsxs)("header",{className:"relative w-full h-full flex p-6 md:p-10",children:[(0,a.jsxs)("span",{className:"icon-apertura text-3xl lg:text-6xl","aria-hidden":"true",children:[(0,a.jsx)("span",{className:"path1 text-amarillo"}),(0,a.jsx)("span",{className:"path2 text-principal"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 md:gap-4 p-4",children:[(0,a.jsx)("h2",{className:"text-2xl md:text-4xl font-bold leading-none md:leading-10 text-center",children:"Enviado con Exito!"}),(0,a.jsx)("h3",{className:"flex-1 flex items-center text-xl leading-none md:leading-10 font-bold",children:S})]}),(0,a.jsx)("span",{className:"icon-cierre text-3xl lg:text-6xl text-violeta self-end translate-x-2 -translate-y-3","aria-hidden":"true"})]})})})]})};var k=function(){var e=(0,l.useRouter)();return(0,r.useEffect)((function(){o.Z.get("location")||e.replace("/")}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{banner:"arrepentimiento"}),(0,a.jsx)("section",{className:"w-full text-principal bg-white",children:(0,a.jsxs)("div",{className:"max-w-screen-xl mx-auto flex flex-col px-6 2xl:px-0",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-between gap-4 sm:gap-6 w-full max-w-screen-sm mx-auto text-center",children:[(0,a.jsx)("h2",{className:"flex-1 text-3xl px-0 lg:px-16",children:"Inicia el proceso de arrepentimiento de compra ahora mismo."}),(0,a.jsx)("p",{className:"font-light px-0 lg:px-16",children:"Por favor complet\xe1 el siguiente formulario para iniciar la cancelaci\xf3n del producto en nuestrosl sistemas. Record\xe1 que s\xf3lo podr\xe1s hacerlo si realizaste tu compra hace menos de 10 d\xedas."})]}),(0,a.jsx)("span",{className:"icon-cierre text-5xl lg:text-8xl text-principal self-end translate-x-2 -translate-y-3","aria-hidden":"true"})]})}),(0,a.jsx)(C,{})]})}}},function(e){e.O(0,[774,888,179],(function(){return t=5438,e(e.s=t);var t}));var t=e.O();_N_E=t}]);